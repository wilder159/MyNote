---
title: "电能表与串口助手485通信基于DLT645-2007通讯协议 - 炽热的舞者 - 博客园"
source: "https://www.cnblogs.com/ccfwz/p/14118034.html"
author:
published:
created: 2025-04-22
description: "（1）拿到一个数字电表，是DDS6866杭州中奈电表，想要做485通信读取电表数据，首先要知道电表的地址域也就是通信地址，地址域由6个字节构成（A0~A5），每个字节2个BCD码，每块电表都有一个唯一的通信地址。这个地址域是可以更改的，下面两个图片是更改后的电表实际地址 ，出厂默认的地址是：2016"
tags:
  - "clippings"
---
[![](https://img2024.cnblogs.com/blog/35695/202412/35695-20241201073014811-1847930772.jpg)](https://www.doubao.com/?channel=cnblogs&source=hw_db_cnblogs&type=lunt&theme=bianc)

（1）拿到一个数字电表，是DDS6866杭州中奈电表，想要做485通信读取电表数据，首先要知道电表的地址域也就是通信地址，地址域由6个字节构成（A0~A5），每个字节2个BCD码，每块电表都有一个唯一的通信地址。这个地址域是可以更改的，下面两个图片是更改后的电表实际地址 ，出厂默认的地址是：201602240158，现在更改为：000000000001。

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211211505167-1146375130.jpg)

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211211646738-1069489337.jpg)

**(2)本通信是基于DLT645-2007通讯协议**

通信时串口助手要设置成8位数据位，偶校验和1个停止位。我手上这块电表的波特率默认是2400bps，如果不知道波特率可以一个个试。

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211224913322-640017458.png)

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211225208089-1980436621.png)

下图是控制码格式

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211224339532-552778572.png)

下图是数据域编码表，详细的参考DLT645-2007通讯协议 **，** 数据域为00 00 00 00是读取总电量，发送数据时每位要加上33

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211224524712-474800457.png)

**（3）下面是通信发送例子**

以下的数据帧均以表地址000000000001为例：

1、广播设地址

控制字（C）：15

数据：00 00 00 00 00 01

数据帧：FE FE 68 AA AA AA AA AA AA 68 15 06 34 33 33 33 33 33 1A 16

正确返回数据帧：68 01 00 00 00 00 00 68 95 00 66 16

2、读取总电量：

控制字（C）：11

数据ID(DS)：00 00 00 00

数据帧：FE FE 68 01 00 00 00 00 00 68 11 04 33 33 33 33 B2 16

返回数据帧：68 01 00 00 00 00 00 68 91 08 33 33 33 33 33 33 33 33 02 16

红色的部分是电量，要减33，减后为00 00 00 00 即0.00度

3、拉闸命令

控制字（C）：1C

数据帧：68 01 00 00 00 00 00 68 1C 10 35 33 33 33 44 44 44 44 4D 33 45 68 47 53 43 47 2C 16

正确返回帧： 68 01 00 00 00 00 00 68 9C 00 6D 16

4、合闸命令

控制字（C）：1C

数据帧：68 01 00 00 00 00 00 68 1C 10 35 33 33 33 44 44 44 44 4E 33 45 68 47 53 43 47 2D 16

正确返回帧： 68 01 00 00 00 00 00 68 9C 00 6D 16

5、读拉合闸状态

控制字（C）：11

数据ID（DS）：04000503

数据帧：68 01 00 00 00 00 00 68 11 04 36 38 33 37 BE 16

正确数据返回帧：68 01 00 00 00 00 00 68 91 06 36 38 33 37 33 33 A6 16

红色部分是返回来的状态数据：33 33，要减33，即00 00 根据07协议要求，数据的字节要调换一下，即00 00，即是合闸状态。

如果红色部分返回的数据是：83 33，要减33，即50 00 根据07协议要求，数据的字节要调换一下，即00 50 即是拉闸状态。

具体数据帧里的数据域的数据字节怎么处理请参照DL/T 645-2007标准。这里就不在具体解释了。

（4）下面是读取电表电量数据，通信正常图片。

波特率：2400bps

我发送数据解析：开头是68。电表地址是000000000001（发送地址时要先传送低位）。控制命令11（即读数据）。长度为04。命令为33 33 33 33（这个值要减去33H，即00 00 00 00，这个数据值，就是查电表总有功电量值）。B2是cs校验码，在我自己写的上位机程序里面是自动计算的不需要加上，如果用串口助手需要自己计算并加上。后面还要加上16结束字符；

返回的数据前面的FE忽略即可。91是应答命令(对应控制命令11，正确返回会加上0x80)。08为长度。33 33 33 33 为命令返回值。6C 33 33 33为 39 00 00 00（因为这里是数据域，需要每个字节需要减0x33，且数值为BCD码），这个值为0.39kwh，电表显示的就是这个值，所以符合协议。

![](https://img2020.cnblogs.com/blog/2186769/202012/2186769-20201211232754811-333698245.png)

posted @ [炽热的舞者](https://www.cnblogs.com/ccfwz) 阅读(18945)  评论(1) [收藏](https://www.cnblogs.com/ccfwz/p/) [举报](https://www.cnblogs.com/ccfwz/p/)

<table><tbody><tr><td colspan="7"><table><tbody><tr><td><a href="https://www.cnblogs.com/ccfwz/p/">&lt;</a></td><td align="center">2025年4月</td><td align="right"><a href="https://www.cnblogs.com/ccfwz/p/">&gt;</a></td></tr></tbody></table></td></tr><tr><th align="center">日</th><th align="center">一</th><th align="center">二</th><th align="center">三</th><th align="center">四</th><th align="center">五</th><th align="center">六</th></tr><tr><td align="center">30</td><td align="center">31</td><td align="center">1</td><td align="center">2</td><td align="center">3</td><td align="center">4</td><td align="center">5</td></tr><tr><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td><td align="center">11</td><td align="center">12</td></tr><tr><td align="center">13</td><td align="center">14</td><td align="center">15</td><td align="center">16</td><td align="center">17</td><td align="center">18</td><td align="center">19</td></tr><tr><td align="center">20</td><td align="center">21</td><td align="center">22</td><td align="center">23</td><td align="center">24</td><td align="center">25</td><td align="center">26</td></tr><tr><td align="center">27</td><td align="center">28</td><td align="center">29</td><td align="center">30</td><td align="center">1</td><td align="center">2</td><td align="center">3</td></tr><tr><td align="center">4</td><td align="center">5</td><td align="center">6</td><td align="center">7</td><td align="center">8</td><td align="center">9</td><td align="center">10</td></tr></tbody></table>

[AI原生IDE](https://www.trae.com.cn/?utm_source=advertising&utm_medium=cnblogs_ug_cpa&utm_term=hw_trae_cnblogs)