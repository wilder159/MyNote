---
title: "【电表采集】乐舜4GDTU（Dlt645-2007电表）连接阿里云物联网平台-阿里云开发者社区"
source: "https://developer.aliyun.com/article/754847"
author:
published:
created: 2025-04-21
description: "以Dlt645-2007电表采集为例"
tags:
  - "clippings"
---
**简介：** 以Dlt645-2007电表采集为例

目录  
1、前言  
2、实现功能  
3、准备工具  
4、 设备连接图  
5、DLT645-2007电表采集  
5.1 点表配置  
5.2 点表下发  
6、DLT645设备接入演示  
6.1 上位机软件操作  
6.2 物模型导入云平台  
6.3 远程配置文件  
6.4 设置三元组  
7、 部分数据查看  
7.1 查看周期数据  
7.2 查看设备断连  
7.3上下限告警  
8、 Iot Studio应用开发

## 0.1 1、前言

本文给大家介绍LS-D3000采集Dlt645-2007多功能电表的一系列流程。LS-D3000采集DLT645电表的数据解析，配置物模型，平台点表下发至DTU，一整套功能均已开发完毕，使用者只需按照流程，自定义采集内容，不需要在阿里云平台开发脚本等额外工作，简单操作即可快速完成DLT645电表采集项目。方便有需之人快速认识此产品，具体操作请阅读如下内容。

## 0.2 2、实现功能

LS-D3000通过RS485端口连接一个DLT645多功能电表，读取电表的组合有功总电能，正向有功总电能，正向有功总最大需量及发生时间，A相电压和电流等等，将数据上传到阿里云IoT平台并在Iot Studio展示出来。具体如下：  
1、LS-D3000通过RS485端口周期采集电表；  
2、LS-D3000将读取到的数据上传至阿里云IoT平台；  
3、阿里云IoT平台数据以Iot studio WEB方式展示出来。

## 0.3 3、准备工具

① DTU阿里云套件（内含DTU\*1，连接线，电源，天线）  
② DLT645-2007多功能电能表\*1  
③ 乐舜上位机配置软件  
④ Win7系统或以上电脑  
⑤ USB转RS232接口工具  
⑥ 阿里云账号，开通物联网平台，并创建产品和对应设备  
创建产品的连接地址： [https://iot.console.aliyun.com/product](https://iot.console.aliyun.com/product)  
选择ICA标准数据格式(Alink JSON)  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/b212cbb3f4144ed4aa2642a358a45f29.png?x-oss-process=image/resize,w_1400/format,webp "image.png")

根据提示创建设备，获取设备三元组  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/cef1c31611fc40a4bcfb128dce11184c.png "image.png")

## 0.4 4、设备连接图

如下图所示,表示整体通讯的拓扑图，将DTU的485接口连接到DLT645电表上,RS232接到电脑上。  
RS232用于上位机的配置DTU参数，RS485用于DLT645多功能电表和DTU通讯。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/041971ff4ba84b47891538b6f1776b67.png "image.png")

## 0.5 5、DLT645-2007电表采集

支持DLT645-2007协议的电表，通过RS485接口和DTU连接，可以快速接入到阿里云IoT平台。通过提供的上位机工具，配置好测点（点表）信息，DTU会主动轮训645电表设备，并上报到云端。功能支持：  
① 数据标识采集范围（DLT645-2007规约附录的表A.1 表A.2 表A.3）  
数据标识（DI3 DI2 DI1 DI0） | 编码表 |  
00 XX XX XX | 电能表数据标识编码表 |  
01 XX XX XX | 最大需量及发生时间数据标识编码表 |  
02 XX XX XX | 变量数据标识编码表 |  
②数据标识值超限预警  
③485通信断开预警

## 0.6 点表配置

DLT645-2007协议设备的点表支持客户可配，配置可以借助上位机来实现，配置好的点表可以作为工程文件保存，可以复制到其他项目直接使用。

### 0.6.1 生成点表模板

上位机软件生成模板会创建一个当前时间命名的文件夹。文件夹里面的每一个CSV文件对应一个DLT645从设备。  
生成模板弹出对话框填写数量确定，会生产对应配置模板文件，打开目录定位到配置模板文件位置，进行填写点表。操作如下  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/3047cf8336e34856b968d5fba966ecd2.png "image.png")

![image.png](https://ucc.alicdn.com/pic/developer-ecology/85713e2f3fc14f3098e92e83aaf9146a.png "image.png")

### 0.6.2 填写点表

打开一个CSV格式点模板配置文件进行修改，如下图所示，配置完成后保存，仍保存为CSV格式文件。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/63c07be0847e455591cbe634176e093c.png?x-oss-process=image/resize,w_1400/format,webp "image.png")

示例（以下示例设备地址为9999）：  
采集组合有功总电能

![image.png](https://ucc.alicdn.com/pic/developer-ecology/75ba1fcdf4d743b183e6a016632c520b.png?x-oss-process=image/resize,w_1400/format,webp "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/74a8b1e735c448028eb3462549b990ec.png "image.png")

### 0.6.3 查看点表

打开PC软件 点表配置选择配置文件选择确定  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/4edf4ad290914cd8af6abd874cc51c91.png "image.png")

点击确定弹出下图  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/517f8efece6a4bc7adcd7863c4e5c0fd.png?x-oss-process=image/resize,w_1400/format,webp "image.png")

其中第②步骤生成物模型在导入阿里云平台  
其中第③步骤生成配置文件可以通过阿里云平台导入，实现远程配置。

## 0.7 点表下发

### 0.7.1 远程配置下发

打开刚才工具生产的配置文件打开后，将内容复制到阿里云远程配置中，如下操作  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/1471df4560fe4ddc9d40ba5f8d305355.png "image.png")

注意：  
① 远程配置功能会对该产品下所有在线设备进行下发。  
② 该产品下的新添加的设备会在上电时自动获取新配置文件信息。  
③ 阿里云远程配置下发1个小时只允许下发一次。

### 0.7.2 配置文件管理

远程配置有版本信息，开启配置将以远程配置文件版本为准，本地版本不一致时会优先将远程同步到本地。

```
配置文件版本号，可以在云端查询，如下所示。

        
          
        
        
        
          
          AI 代码解读
```

![image.png](https://ucc.alicdn.com/pic/developer-ecology/0c948c4ba20942218e3591b20da0999a.png "image.png")

## 0.8 6、DLT645设备接入演示

## 0.9 上位机软件操作

① 选择相应的产品，DLT645协议我们使用的LS-D3000，因此选择LS-D3000即可。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/063a70861ae14a1b9e9640fe6414dfa7.png "image.png")

② 生成模板，操作如下，在弹出新窗口打开目录，选择Dlt645协议，数量1  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/fc68227f682d49a5bd419a876ab58d7f.png "image.png")

③ 选择配置文件  
选择刚才的目录，使用自己配置的配置文件，不做修改。此实例是8个从设备的Dlt645点表  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/2ec7e4cbdd42440cae61039ee3abb4f2.png "image.png")

④ 打开配置文件，查看点表，选择远程下发，生成物模型（相应的产品的ProductKey）和确认生成CFG文件，注意文件保存的目录,下面操作要用到  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/84c8c7c0f89048dcb1d435ea44fdd4f8.png "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/93b98847ca17488dbc0f5b01e5906c19.png?x-oss-process=image/resize,w_1400/format,webp "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/4361605f43464fba8608c43226a64d41.png "image.png")

![image.png](https://ucc.alicdn.com/pic/developer-ecology/19bf9216e3f94142b100a88716d2d370.png "image.png")

## 0.10 物模型导入云平台

打开阿里云物联网平台，设备管理->产品->功能定义->自定义功能 ->导入物模型，选择上一步对应ProductKey的json文件，导入物模型，如下图所示。  
导入物模型成功之后，再发布更新，新建一个版本号即可物模型发布成功说明已成功导入云平台  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/8343907d8e004621a4ad51641ada1096.png "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/9dbd50b3dce4449fac33c561801d4ec2.png "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/6c209c543ac7430ab6f5163ee9224910.png "image.png")

## 0.11 远程配置文件

点表下发有两种方式，可以通过本地和远程，这里采用远程下发。  
打开CONF.json文件，copy内容到阿里云IoT远程配置模块，该文件在章节6.1的最后几步操作。注意保存配置文件后需要重启DTU设备。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/cb35178173d34160b5298d3d30df34bd.png "image.png")

## 0.12 设置三元组

通过套件中提供的RS232线将DTU主体和PC连接。接上天线、检查SIM卡（默认内置），插上电源。  
打开软件选择对应COM端口，测试成功说明DTU和PC连接正确。打开后，输入阿里云三元组。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/da3708eaff2e41a1a5f6f67afcc48e8d.png "image.png")  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/93d39e1fe29f41a19e2e77e5a080a6fd.png "image.png")  
点击注册后，DTU会自动连接到阿里云，等待指示灯LINKA常亮。刷新平台，会看到对应设备已经在线。

## 0.13 7、部分数据查看

## 0.14 查看周期数据

在阿里云平台上可以看出各个属性的周期上报的值  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/84f31519db2f46d78eb958adff51b5b6.png "image.png")

## 0.15 查看设备断连

在平台 设备找到对应设备事件管理 下查看  
手动断开DTU和电脑的连接线模拟设备断连，等一个采集周期，重新插上能够模拟恢复连接再等待一个采集周期，平台会产生2条事件数据。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/babd3693a2b34fe8b50963a0aaae56e1.png "image.png")  
{"1\_dev\_state":0}：表示RS485通讯失败  
{"1\_dev\_state":1}：表示RS485通讯恢复

```
1_dev_state中1表示设备地址，dev_state为固定字符串。
        
          
        
        
        
          
          AI 代码解读
```

## 0.16 7.3上下限告警

当采集DLT645电表的数值超出上下限的范围，都会发生预警。

## 0.17 8、Iot Studio应用开发

1、新建项目：项目名称根据具体项目名来命名。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/a87a254b81b342c0b929fdb8ad8b155f.png "image.png")  
2、新建Web应用  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/f3272daa76774bb6aaca0059913a50dc.png "image.png")  
3、选择导航布局，然后增加页面；  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/843f6f7e186f4caeb625a75077286404.png "image.png")  
4、网页制作，左侧有一系列组件供我们使用，然后再配置相应的数据源，即可在图中显示实时的折线图，阿里云IoT有详细的文档说明IoT Studio如何使用。  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/cbd92441c7fb4aaea66df12d034d7930.png "image.png")  
5、预览效果  
![image.png](https://ucc.alicdn.com/pic/developer-ecology/16f726340d7b4fc79e2a32b9f7b020f5.png "image.png")

相关实践学习

钉钉群中如何接收IoT温控器数据告警通知

本实验主要介绍如何将温控器设备以MQTT协议接入IoT物联网平台，通过云产品流转到函数计算FC，调用钉钉群机器人API，实时推送温湿度消息到钉钉群。

阿里云AIoT物联网开发实战

本课程将由物联网专家带你熟悉阿里云AIoT物联网领域全套云产品，7天轻松搭建基于Arduino的端到端物联网场景应用。 开始学习前，请先开通下方两个云产品，让学习更流畅： IoT物联网平台：https://iot.console.aliyun.com/ LinkWAN物联网络管理平台：https://linkwan.console.aliyun.com/service-open

目录

相关文章

[zys\_](https://developer.aliyun.com/profile/3kb3djydpwsig)

|

1月前

|

[工业物联网关应用：PLC数据通过智能网关上传阿里云实战](https://developer.aliyun.com/article/1656073)

本文介绍如何使用智能网关将工厂PLC数据传输至阿里云平台，适合中小企业远程监控设备状态。硬件准备包括三菱FX3U PLC、4G智能网关和24V电源。接线步骤涵盖PLC编程口与网关连接、运行状态检测及天线电源接入。配置过程涉及通讯参数、阿里云对接和数据点映射。PLC程序关键点包括数据上传触发和温度值处理。阿里云平台操作包含实时数据查看、数据可视化和规则引擎设置。最后提供常见故障排查表和安全建议，确保系统稳定运行。

[zys\_](https://developer.aliyun.com/profile/3kb3djydpwsig)

140 1 1

[探索云世界动手实践](https://developer.aliyun.com/profile/cekelogsmipno)

|

2月前

|

[基于阿里云物联网平台（IoT）的智能家居系统开发与部署](https://developer.aliyun.com/article/1654218)

随着物联网技术的发展，智能家居成为提升生活品质的重要方向。阿里云物联网平台提供设备接入、数据管理及应用开发能力，支持亿级设备接入、高效数据管理和灵活应用开发，确保系统安全。本文通过实战案例展示如何基于该平台构建智能家居系统，涵盖设备接入、远程控制、场景联动与数据分析等功能，助力企业快速部署智能家居解决方案。

[探索云世界动手实践](https://developer.aliyun.com/profile/cekelogsmipno)

173 1 1

[1941623231718325](https://developer.aliyun.com/profile/nswt4kkkndzlq)

|

6月前

|

[元宇宙与物联网：连接虚拟与现实](https://developer.aliyun.com/article/1630979)

【10月更文挑战第29天】元宇宙与物联网正逐步改变我们的生活和工作方式。元宇宙通过区块链、云计算等技术，构建了一个与现实世界平行的虚拟空间；物联网则通过智能感知和连接，将物体与互联网相连，提供精准数据和服务。两者融合，提升了虚拟空间的真实感和沉浸感，带来了更智能的服务，共同推动社会的数字化和智能化进程。

[1941623231718325](https://developer.aliyun.com/profile/nswt4kkkndzlq)

170 3 3

[#FFF](https://developer.aliyun.com/profile/7k2kpw2c2zjfa)

|

6月前

|

[阿里云物联网平台：推动万物互联的智能化解决方案](https://developer.aliyun.com/article/1626992)

随着物联网技术的快速发展，阿里云物联网平台为企业提供了一体化的解决方案，包括设备接入、数据管理和智能应用等核心功能。平台支持海量设备接入、实时数据采集与存储、边缘计算，并具备大规模设备管理、高安全性和开放生态等优势。广泛应用于智能制造、智慧城市和智能家居等领域，助力企业实现数字化转型。

[#FFF](https://developer.aliyun.com/profile/7k2kpw2c2zjfa)

677 5 5

[代码bug生产队](https://developer.aliyun.com/profile/jnvwppvhiny2k)

|

5月前

|

[物联网](https://developer.aliyun.com/label/sc/de-3-100243) [智能硬件](https://developer.aliyun.com/label/sc/de-3-100091)

[物联网技术：连接智能生活的桥梁](https://developer.aliyun.com/article/1638571)

物联网技术：连接智能生活的桥梁

[代码bug生产队](https://developer.aliyun.com/profile/jnvwppvhiny2k)

94 0 0

[何雨晨](https://developer.aliyun.com/profile/66k3q7lflfxmk)

|

6月前

|

[桥接物联网和云：在 Kubernetes 中增强与 Kong 的 TCPIngress 的连接](https://developer.aliyun.com/article/1618438)

桥接物联网和云：在 Kubernetes 中增强与 Kong 的 TCPIngress 的连接

[何雨晨](https://developer.aliyun.com/profile/66k3q7lflfxmk)

72 0 0

[土木林森](https://developer.aliyun.com/profile/mfonu6kasfx3y)

|

8月前

|

[智能家居新篇章：WPF与物联网的智慧碰撞——通过MQTT协议连接与控制智能设备，打造现代科技生活的完美体验](https://developer.aliyun.com/article/1603059)

【8月更文挑战第31天】物联网（IoT）技术的发展使智能家居设备成为现代家庭的一部分。通过物联网，家用电器和传感器可以互联互通，实现远程控制和状态监测等功能。本文将探讨如何在Windows Presentation Foundation（WPF）应用中集成物联网技术，通过具体示例代码展示其实现过程。文章首先介绍了MQTT协议及其在智能家居中的应用，并详细描述了使用Wi-Fi连接方式的原因。随后，通过安装Paho MQTT客户端库并创建MQTT客户端实例，演示了如何编写一个简单的WPF应用程序来控制智能灯泡。

[土木林森](https://developer.aliyun.com/profile/mfonu6kasfx3y)

299 0 0

[Echo\_Wish](https://developer.aliyun.com/profile/lmu5kq2lgve42)

|

1月前

|

[健康监测设备的技术革命：AI+物联网如何让你随时掌握健康数据？](https://developer.aliyun.com/article/1658265)

健康监测设备的技术革命：AI+物联网如何让你随时掌握健康数据？

[Echo\_Wish](https://developer.aliyun.com/profile/lmu5kq2lgve42)

221 19 20

[那年春天](https://developer.aliyun.com/profile/macj3egg7x2pm)

|

5月前

|

[政府在推动物联网技术标准和规范的统一方面可以发挥哪些作用？](https://developer.aliyun.com/article/1638694)

政府在推动物联网技术标准和规范的统一方面可以发挥哪些作用？

[那年春天](https://developer.aliyun.com/profile/macj3egg7x2pm)

227 60 60

[那年春天](https://developer.aliyun.com/profile/macj3egg7x2pm)

|

5月前

|

[制定统一的物联网技术标准和规范的难点有哪些？](https://developer.aliyun.com/article/1638693)

制定统一的物联网技术标准和规范的难点有哪些？

[那年春天](https://developer.aliyun.com/profile/macj3egg7x2pm)

234 58 59## [物联网](https://developer.aliyun.com/iot/)

## 0.18 热门文章

## 0.19 最新文章

- [
	1
	使用MQTT客户端连接阿里云MQTT服务器
	28606
	](https://developer.aliyun.com/article/592279)
- [
	2
	物联网+智慧城建，智慧城市建设的新动能
	19962
	](https://developer.aliyun.com/article/155202)
- [
	3
	IoT SaaS加速器——助力阿尔茨海默病人护理
	18786
	](https://developer.aliyun.com/article/706042)
- [
	4
	物联网发展的三大编程语言
	18480
	](https://developer.aliyun.com/article/698731)
- [
	5
	PostgreSQL "物联网"应用 - 1 实时流式数据处理案例(万亿每天)
	15638
	](https://developer.aliyun.com/article/166)
- [
	6
	物联网平台实用技巧：调用API获取设备状态
	14016
	](https://developer.aliyun.com/article/717330)
- [
	7
	手机秒变IoT设备?——巧妙利用阿里云物联网平台
	13027
	](https://developer.aliyun.com/article/682921)
- [
	8
	阿里云物联网消息透传设备端payLoad设置问题
	12909
	](https://developer.aliyun.com/article/706989)
- [
	9
	庆科：从安全设计上突破，云上物联网操作系统进化之路
	12170
	](https://developer.aliyun.com/article/69088)
- [
	10
	AliOS Things 3.0应用笔记：http client简单应用
	10845
	](https://developer.aliyun.com/article/720463)

- [
	1
	RFID固定资产管理
	26
	](https://developer.aliyun.com/article/1661544)
- [
	2
	RFID服装布草管理
	53
	](https://developer.aliyun.com/article/1661370)
- [
	3
	rfid工具库房盘点采集管理
	48
	](https://developer.aliyun.com/article/1661256)
- [
	4
	RFID人员定位管理
	59
	](https://developer.aliyun.com/article/1661115)
- [
	5
	FreeMQTT & FreeMQTT plus：物联网通信的强大助力
	140
	](https://developer.aliyun.com/article/1660763)
- [
	6
	推荐一款多通道脑电图EEG采集仪
	65
	](https://developer.aliyun.com/article/1660678)
- [
	7
	多通道肌电臂环精准手势识别，下一代交互系统
	51
	](https://developer.aliyun.com/article/1660667)
- [
	8
	停车场导航系统核心技术功能解析，助力造城市便捷项目改造
	65
	](https://developer.aliyun.com/article/1660285)
- [
	9
	推荐一款医疗级心电采集处理模块
	59
	](https://developer.aliyun.com/article/1659848)
- [
	10
	玄鹿网络 | 中小企业如何借势互联网，打造强势网络品牌？
	51
	](https://developer.aliyun.com/article/1659775)

## 0.20 相关产品

- 物联网平台

## 0.21 相关电子书

[更多](https://developer.aliyun.com/ebook/)

- [美的物联平台的云上实践与应用--- 人机新世代战略下的智能化探索](https://developer.aliyun.com/ebook/591)
- [使用Link Develop 进行物联网一站式开发](https://developer.aliyun.com/ebook/611)
- [从创意到原型： 物联网应用快速开发](https://developer.aliyun.com/ebook/618)[AI助理](https://www.aliyun.com/ai-assistant?displayMode=widget)

你好，我是AI助理

可以解答问题、推荐解决方案等