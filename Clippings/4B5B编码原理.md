---
title: "4B/5B编码原理"
source: "https://www.cnblogs.com/laojie4321/archive/2012/04/09/2439470.html"
author:
  - "[[n哖苡逅]]"
published: 2012-04-09T19:52:00.0000000&#x2B;08:00
created: 2025-02-24
description: "什么是4B/5B编码？ 4B/5B编码是百兆以太网（即快速以太网）中线路层编码类型之一，就是用5bit的二进制数来表示4bit二进制数，映射方式如下表所示：为什么要进行4B/5B编码？在通信网络中，接收端需要从接收数据中恢复时钟信息来保证同步，这就需要线路中所传输的二进制码流有足够多的跳变，即不能有"
tags:
  - "clippings"
---
什么是4B/5B编码？

      4B/5B编码是**百兆以太网（即快速以太网）**中线路层编码类型之一，就是用**5bit的二进制数来表示4bit二进制数**，映射方式如下表所示：

    为什么要进行4B/5B编码？

在通信网络中，接收端需要从接收数据中恢复时钟信息来保证同步，这就需要线路中所传输的二进制码流**有足够多的跳变**，即不能有过多连续的高电平或低电平，否则**无法提取时钟信息**。

Manchester（曼切斯特）编码可以保证线路中码流有充分的跳变，因为它是用电平从**“\-1”到“+1”的跳变来表示“1”**，用电平从**“+1”到“\-1”的跳变来表示“0”**，但是这种编码方式的效率太低，**只有50%**，相当于用线路的有效带宽来换取信号的跳变，十兆以太网就是使用Manchester编码，虽然线路的有效带宽只有10Mbps，但实际带宽却是20Mbps。

百兆以太网用的4B/5B编码与MLT-3编码组合方式，发送码流先进行4B/5B编码，再进行MLT-3编码，最后再上线路传输；千兆以太网用的是8B/10B编码与NRZ编码组合方式；万兆以太网用的是64B/66B编码；PCIE 3.0用的是128B/130B编码。

4B/5B编码规则有哪些？

4B/5B编码其实就是用5bit的二进制码来代表4bit二进制码。此编码的效率是80%，比Manchester码高。4B/5B编码的目的在前面已经说过了，就是让码流产生足够多的跳变。4位二进制共有16种组合，5位二进制共有32种组合，如何从32种组合种选取16种来使用呢？这里需要满足两个规则：

1). 每个5比特码组中不含多于3个“0”；

2). 或者5比特码组中包含不少于2个“1”；

此规则是怎么来的？这就要从MLT\-3码的特点来解释了。MLT\-3码的特点简单的说就是：逢“1”跳变，逢“0”不跳变。为了让4B/5B编码后的码流中有足够多的跳变就需要编码后的码流中有尽量多的“1”和尽量少的“0”。

这种编码的特点是将欲发送的数据流每4bit作为一个组，然后按照4B/5B编码规则将其转换成相应5bit码。5bit码共有32种组合，但只采用其中的16种对应4bit码的16种，其他的16种或者未用或者用作控制码，以表示帧的开始和结束、光纤线路的状态（静止、空闲、暂停）等。**三种应用实例是FDDI、100BASE－TX和100BASE**－FX8B/10B编码与4B/5B的概念类似，例如在千兆以太网中就采用了8B/10B的编码方式。 

4B/5B编码是在百兆位快速以太网的光纤分布式数据接口（FDDI，Fiber Distributed Data Interface）中采用的信息编码方案。这种编码的特点是将欲发送的数据流每4bit作为一个组，每四位二进制代码由5位编码表示，这5位编码称为编码组(code group)，并且由**NRZI**方式传输。

4B/5B编码是在百兆位快速以太网的光纤分布式数据接口（FDDI，Fiber Distributed Data Interface）中采用的信息编码方案。这种编码的特点是将欲发送的数据流每4bit作为一个组，每四位二进制代码由5位编码表示，这5位编码称为编码组(code group)，并且由NRZI方式传输。

　　在通信系统中，通信速度与线路传输中的调制速率，所谓调制速率是指单位时间内线路状态变化的数目，以波特(baud)为单位。实用4B/5B码的最大优点是能够在很大程度上降低线路传输中的调制速率降低调制速率，从而可以降低对线路的要求。

　　例如：如果采用曼彻斯特编码，在每个调制时间间隔内跳动两次，则数据传送速率是波特率将的二分之一。在快速以太网中，数据传输速率为100Mbps，如果采用曼彻斯特编码，波特率将达200Mbps，对传输介质和设备的技术要求都将提高，增大了传输成本。如果使用4B/5B编码，在传输速率为100Mbps的情况下，其调制速率为：100M÷(4/5)＝125M(baud)。即波特率为125M baud，大大低于曼彻斯特编码时的200M baud，这样就在**快速以太网中使用非屏蔽双绞线成为可能**。

　　4B/5B编码表如下所示：

![](http://xxglx.jxcfs.com/net/zyk/htmlfiles/images/gr0105004.gif)

关于线路编码类型，如NRZ、NRZI、HDB3、B3ZS、B8ZS、AMI、CMI、MLT-3、Manchester等，以后会介绍。